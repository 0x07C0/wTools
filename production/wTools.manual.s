(function __file_wTools__(){!function _wTools(){"use strict";var e=void 0;e||"undefined"==typeof Global||Global.Global!==Global||(e=Global),e||"undefined"==typeof global||global.global!==global||(e=global),e||"undefined"==typeof window||window.window!==window||(e=window),e||"undefined"==typeof self||self.self!==self||(e=self),e._global_=e,e._global_=e,"undefined"!=typeof module&&null!==module&&"undefined"==typeof Underscore&&(e.Underscore=require("underscore")),"undefined"==typeof wTools&&(void 0!==e.Underscore?e.wTools=Object.create(e.Underscore):void 0!==e._?e.wTools=Object.create(e._):e.wTools={}),"undefined"==typeof Config&&(e.Config=Object.freeze({debug:!0}));var r=wTools,n=wTools,t=Array.prototype.slice,a=Function.prototype.bind,s=Object.prototype.toString,u=Object.hasOwnProperty,i=function(e,r){return n.strIs(r)?e=r:n.objectIs(r)||n.hasLength(r)?n.each(r,function(r,n,t){e[n]=r}):e=r,e},o=function(e,r){var t;if(void 0!==r&&!n.objectIs(r))throw n.err("wTools.entityClone:","need options");var r=r||{};if(void 0===r.forWorker&&(r.forWorker=0),void 0===r.depth&&(r.depth=16),void 0===r.useClone&&(r.useClone=1),r.depth<0){if(!r.silent)throw n.err("wTools.entityClone:","overflow");console.log("wTools.entityClone: overflow")}if(yt(!r.forWorker,"forWorker is deprecated"),!e)return e;if(r.useClone&&n.routineIs(e.clone))t=e.clone();else if($(e))t=[],e.forEach(function(e,n,a){t[n]=o(e,r)});else if(n.objectIs(e)){t={};var a=Object.getPrototypeOf(e),t=Object.create(a);for(var s in e)if(u.call(e,s)){var i=o(e[s],{depth:r.depth-1,silent:r.silent,forWorker:r.forWorker});t[s]=i}}else if(e.constructor){if(r.forWorker){var f=n.strIs(e)||n.numberIs(e)||n.dateIs(e)||n.boolIs(e)||n.regexpIs(e)||n.bufferIs(e);return f?e:void 0}t=n.strIs(e)||n.numberIs(e)||n.dateIs(e)||n.boolIs(e)||n.regexpIs(e)?e.constructor(e):n.routineIs(e)?e:new e.constructor(e)}else t=e;return t},f=function(e,r,t){var a;if(n.assert(2===arguments.length||3===arguments.length),n.assert(arguments.length<3||n.routineIs(t)),null===r)a=r;else if(e&&n.routineIs(e.copy))e.copy(r);else if(r&&n.routineIs(r.clone)){if(e instanceof r.constructor)throw n.err("not tested");if(!n.atomicIs(e))throw n.err("unexpected");a=r.clone()}else r&&n.routineIs(r.slice)?a=r.slice(0):e&&n.routineIs(e.set)?e.set(r):a=n.objectIs(r)?t?n.mapClone(r,{onCopyField:t,dst:n.atomicIs(e)?{}:e}):n.mapClone(r):r;return a},l=function(e,r,t,a){var s,t=n.nameUnfielded(t).coded;return n.assert(3===arguments.length||4===arguments.length),s=a?f(e[t],r[t],a):f(e[t],r[t]),void 0!==s&&(e[t]=s),s},c=function(e,r,t,a){var s,t=n.nameUnfielded(t).coded;if(n.assert(3===arguments.length||4===arguments.length),a)throw n.err("not tested");return s=f(e[t],r),void 0!==s&&(e[t]=s),s},g=function(e){var r=!1;if(void 0===e)return!0;if(n.numberIs(e))return isNaN(e);if(n.arrayIs(e)){for(var t=0;t<e.length;t++)if(n.numberHasNan(e[t]))return!0}else if(n.objectIs(e))for(t in e)if(n.numberHasNan(e[t]))return!0;return r},m=function(e){var r=!1;if(void 0===e)return!0;if(n.arrayIs(e)){for(var t=0;t<e.length;t++)if(n.hasUndef(e[t]))return!0}else if(n.objectIs(e))for(t in e)if(n.hasUndef(e[t]))return!0;return r},d=function entitySame(e,r,t){var a=function(e,r){return e===r},s={onSameNumbers:a,contain:0,strict:1,lastPath:""};return Object.freeze(s),function entitySame(e,r,t){yt(2===arguments.length||3===arguments.length),yt(void 0===t||n.objectIs(t),"_.toStrFine:","options must be object");var t=t||{};return n.assertMapOnly(t,s),n.mapSupplement(t,s),p(e,r,t,"")}}(),p=function _entitySame(e,r,t,a){if(t.lastPath=a,n.assert(4===arguments.length),t.strict){if(s.call(e)!==s.call(r))return!1}else if(s.call(e)!==s.call(r)&&e!=r)return!1;if(n.arrayLike(e)){if(!r)return!1;if(e.constructor!==r.constructor)return!1;if(!t.contain&&e.length!==r.length)return!1;for(var u=0;u<r.length;u++)if(!_entitySame(e[u],r[u],t,a+"."+u))return!1}else if(n.objectIs(e)){if(!t.contain&&n.entityLength(e)!==n.entityLength(r))return!1;for(var u in r)if(!_entitySame(e[u],r[u],t,a+"."+u))return!1}else{if(n.numberIs(e))return t.onSameNumbers(e,r);if(t.strict){if(e!==r)return!1}else if(e!=r)return!1}return!0},h=function entityIdentical(e,r,t){n.assert(2===arguments.length||3===arguments.length);var t=n.mapSupplement(t||{},{strict:1});return n.entitySame(e,r,t)},y=function entityEquivalent(e,r,t){var a=t.eps;void 0===a&&(a=1e-5),delete t.eps,n.assert(2===arguments.length||3===arguments.length);var s=function(e,r){return e===r?!0:isNaN(e)===!0&&isNaN(r)===!0?!0:Math.abs(e-r)<=a},t=n.mapSupplement(t||{},{strict:0,onSameNumbers:s});return n.entitySame(e,r,t)},v=function entityContain(e,r,t){n.assert(2===arguments.length||3===arguments.length);var t=n.mapSupplement(t||{},{strict:1,contain:1});return n.entitySame(e,r,t)},b=function(e){return void 0===e?0:n.arrayLike(e)?e.length:n.objectLike(e)?n.mapKeys(e).length:1},I=function(e,r,t){var a=0;return r in e?(t&&t.call(e,e[r],r,a),e[r]):void n.eachRecursive(e,function(n,a,s){return a===r?(t&&t(n,a,s),{value:e[r],key:r,index:s,container:e}):void 0})},w=function(e,r){if(n.arrayIs(e))return e[r];if(n.objectIs(e)){var t=0;for(var a in e){if(t===r)return e[a];t++}}else if(n.strIs(e))return e[r]},x=function(e,r){var t=null;if(n.arrayIs(e))t=e.indexOf(r);else if(n.objectIs(e)){for(var a in e)if(e[a]==r)return a}else n.strIs(e)&&(t=e.indexOf(r));return-1===t&&(t=null),t},O=function(e,r){if(n.assert(2===arguments.length||1===arguments.length),2===arguments.length)var t=j(arguments[0],arguments[1]);else var t=j(arguments[0]);var a=k(t);return a},A=function(e,r,t){if(n.assert(3===arguments.length||1===arguments.length),3===arguments.length){var a=j(arguments[0],arguments[1]);a.set=t}else{var a=j(arguments[0]);n.assert(n.mapOwn(a,{set:"set"}))}var s=k(a);return s},j=function(e,r){n.assert(1===arguments.length||2===arguments.length);var t=".";if(1===arguments.length){var a=e;n.assert(n.strIs(a.query)),t=a.delimeter||t,a.qarrey=a.query.split(t),delete a.delimeter,delete a.query}else{var a={};a.container=e,a.qarrey=r.split(t)}return""===a.qarrey[0]&&a.qarrey.splice(0,1),void 0===a.undefinedForNone&&(a.undefinedForNone=1),a},k=function(e){n.assert(1===arguments.length),n.assertMapOnly(e,k.defaults);var r,t=n.mapOwn(e,{set:"set"}),a=e.container,s=e.qarrey[0];if(!e.qarrey.length)return a;if(n.atomicIs(a)){if(e.undefinedForNone)return;throw n.err("cant select",e.qarrey.join("  "),"from atomic",a)}var u=n.mapExtend({},e);u.qarrey=e.qarrey.slice(1),t&&(u.set=e.set);var i=function(r){!u.qarrey.length&&t&&(a[r]=e.set);var s=a[r];if(void 0===s&&t){debugger;a[r]=s={}}var i=n.mapExtend({},u,{container:s});return k(i)};return"*"===s?(r=new a.constructor,n.each(a,function(e,n,t){r[n]=i(n)})):r=i(s),r};k.defaults={qarrey:null,container:null,set:null,undefinedForNone:1};var S=function(){var e=0,r=0,t=arguments[arguments.length-1];if(!n.routineIs(t))throw"_.each: onEach is not routine";for(var a=0,s=arguments.length-1;s>a;a++){var u=arguments[a];if(n.arrayIs(u))for(var i=0;i<u.length;i++)r=t.call(u,u[i],i,e),e++;else if(n.objectIs(u))for(var i in u)r=t.call(u,u[i],i,e),e++;else void 0!==u&&(r=t.call(u,u),e++);if(r)return e}return e},M=function(){var e=0,r=arguments[arguments.length-1];if(!n.routineIs(r))throw"_.each: onEach is not routine";for(var t=0,a=arguments.length-1;a>t;t++){var s=arguments[t];if(n.arrayIs(s)||!n.objectIs(s)&&n.arrayLike(s))for(var u=0;u<s.length;u++)r.call(s,s[u],u,e),e++;else if(n.objectIs(s)||n.objectLike(s))for(var u in s)r.call(s,s[u],u,e),e++;else void 0!==s&&(r.call(s,s),e++)}return e},E=function(e,r){var t=1,a={};n.objectIs(e)?(a=arguments[0],e=a.samples,r=a.onEach,t=void 0!==a.direct?a.direct:1,n.assert(1===arguments.length)):n.assert(2===arguments.length),n.assert(1===arguments.length||2===arguments.length),n.assert(n.arrayIs(e)),n.assert(n.routineIs(r));var s=[],u=[],i=[],o=0,f=function(){for(var r=0,n=e.length;n>r;r++)if(i[r]=e[r].length,u[r]=0,s[r]=e[r][u[r]],!i[r])return 0;return 1},l=function(r){return u[r]++,u[r]>=i[r]?(u[r]=0,void(s[r]=e[r][u[r]])):(s[r]=e[r][u[r]],o+=1,1)},c=function(){if(t){for(var r=0,n=e.length;n>r;r++)if(l(r))return 1}else for(var r=e.length-1,n=e.length;r>=0;r--)if(l(r))return 1;return 0};if(!n.arrayIs(e))throw n.err("eachSample:","array only supported");if(!f())return o;do r.call(s,s,o);while(c());return o},L=function(){var e=0,r=arguments[arguments.length-1];if(!n.routineIs(r))throw"_.each: onEach is not routine";for(var t=0,a=arguments.length-1;a>t;t++){var s=arguments[t];if(n.arrayIs(s))for(var u=0;u<s.length;u++)n.arrayIs(s[u])||n.objectIs(s[u])?e+=L(s[u],r):(r.call(s,s[u],u,e),e++);else if(n.objectIs(s))for(var u in s)n.arrayIs(s[u])||n.objectIs(s[u])?e+=L(s[u],r):(r.call(s,s[u],u,e),e++);else r.call(null,s,null,e)}return e},C=function err(){var e;if("not tested"===arguments[0]||"unexpected"===arguments[0])debugger;for(var r=0;r<arguments.length;r++)if(arguments[r]instanceof Error){e=arguments[r],arguments[r]=e.originalMessage||e.message||e.msg||e.constructor.name||"Unknown error";break}for(var t,a,s="",r=0;r<arguments.length;r++){var u,i=arguments[r];u=i?n.routineIs(i.toStr)?i.toStr():n.strIs(i.originalMessage)?i.originalMessage:n.strIs(i.message)?i.message:i+"":i+"",n.objectLike(i)&&!t&&(t||(t=i.fileName||i.filename),void 0===a&&(a=i.linenumber),void 0===a&&(a=i.lineNumber),void 0===a&&(a=i.lineno)),s+=n.strIs(u)&&"\n"===u[u.length-1]?u:u+" "}if(e)try{e.message="",e.message=s+"\n"+(e.stack||"")+"\n"}catch(r){xxx,e=new e.constructor(s+"\n"+(e.stack||"")+"\n")}else{var o=Error();e=Error(s+"\n"+(o.stack||"")+"\n +")}return e.originalMessage=s,e},_=function assert(e){if(!e){debugger;throw 1===arguments.length?n.err("Assertion failed"):2===arguments.length?n.err(arguments[1]):3===arguments.length?n.err(arguments[1],arguments[2]):n.err.apply(n,vt(arguments,1))}},B=function assertMapNoUndefine(e){var r=arguments.length>1;for(var t in e)if(void 0===e[t])throw n.err("Object "+(r?n.arraySlice(arguments,1,arguments.length):"")+" should have no undefines, but has: "+t)},N=function assertMapOnly(e){var r=arguments.length,t=n.strIs(arguments[r-1]),a=t?n.arraySlice(arguments,0,r-1):arguments,s=Object.keys(n.mapBut.apply(this,a));if(s.length){debugger;throw n.err(t?arguments[r-1]:"","Object should have no fields:",s.join(","))}},F=function assertMapOwnOnly(e){var r=arguments.length,t=n.strIs(arguments[r-1]),a=t?n.arraySlice(arguments,0,r-1):arguments,s=Object.keys(n.mapOwnBut.apply(this,a));if(s.length){debugger;throw n.err(t?arguments[r-1]:"","Object should have no fields:",s.join(","))}},T=function(e,r,t){yt(2===arguments.length||3===arguments.length),yt(2===arguments.length||n.strIs(t));var a=Object.keys(n.mapBut(r,e));if(a.length)throw n.err(t?t:"","Object should have fields:",a.join(","))},P=function(e,r,t){yt(2===arguments.length||3===arguments.length),yt(2===arguments.length||n.strIs(t));var a=Object.keys(n.mapOwnBut(r,e));if(a.length)throw n.err(t?t:"","Object should have fields:",a.join(","))},U=function(e){var r=arguments.length,t=n.strIs(arguments[r-1]),a=t?n.arraySlice(arguments,0,r-1):arguments,s=n.mapScreens.apply(this,a);for(var u in s){for(var i=1;i<arguments.length&&arguments[i][u]===e[u];i++);i===arguments.length&&delete s[u]}if(Object.keys(s).length)throw n.err(t?arguments[r-1]:"","Object should not have fields:",s.join(","))},R=function(e,r){var a=arguments.length,s=n.strIs(arguments[a-1]);if(s&&(a-=1),a>2){var u=t.call(arguments,1,a);debugger;r=n.mapCopy.apply(this,u)}var i=Object.keys(n._mapScreen({filter:pt.own(),screenObjects:r,srcObjects:e}));if(i.length)throw n.err(s?arguments[a-1]:"","Object should not have fields:",i.join(","))},K=function(e){e||console.warn.apply(console,[].slice.call(arguments,1))},q=function(){var e=Error(),r=e.stack.replace(/Error/gm,"").split("\n");return r.splice(1,1),r=r.join("\n")+""},z=function diagnosticWatchObject(e,r){var r=r||{};r.fieldName&&(r.fieldNames=n.nameFielded(r.fieldNames)),Object.observe(e,function(e){for(var n in e){var t=e[n];if(r.fieldNames&&!r.fieldNames[t.name])return;console.log(t.type,t.name,t.object[t.name])}})},D=function(e){var e=e||{};e.names?e.names=n.nameFielded(e.names):e.names=e.dst,yt(1===arguments.length),n.assertMapOnly(e,D.defaults),n.mapComplement(e,D.defaults),yt(e.dst),yt(e.names);for(var r in e.names)(function(){var t=r,a=Symbol.for(r);e.dst[a]=e.dst[r];var s=function read(){var r=e.dst[a];return e.printValue?console.log("reading "+t+" "+n.toStr(r)):console.log("reading "+t),r},u=function write(r){e.printValue?console.log("writing "+t+" "+n.toStr(r)):console.log("writing "+t);debugger;e.dst[a]=r};debugger;Object.defineProperty(e.dst,t,{enumerable:!0,configurable:!0,get:s,set:u})})()};D.defaults={printValue:!1,names:null,dst:null};var G=function nameFielded(e){if(n.objectIs(e))return e;if(n.strIs(e)){var r={};return r[e]=e,r}throw n.err("nameFielded:","unknown arguments")},W=function nameUnfielded(e){var r={};if(n.mapIs(e)){var t=Object.keys(e);n.assert(1===t.length),r.coded=t[0],r.raw=e[r.coded]}else if(n.strIs(e))r.raw=e,r.coded=e;else{if(!n.symbolIs(e))throw n.err("nameUnfielded:","Unknown arguments");r.raw=e,r.coded=e}return yt(1===arguments.length),yt(n.strIs(r.raw)||n.symbolIs(r.raw),"nameUnfielded:","not a string, something wrong:",e),yt(n.strIs(r.coded)||n.symbolIs(r.coded),"nameUnfielded:","not a string, something wrong:",e),r},H=function(e){var r={};yt&&yt(1===arguments.length),yt&&yt(n.objectIs(e));for(var t in e)r[t]=t;return r},V=function(e){return"[object Object]"===s.call(e)},J=function(e){if(V(e))return!0;if(le(e))return!0;if(Ie(e))return!1;for(var r in e)return!0;return!1},Y=function(e){return n.objectIs(e)&&null===e.__proto__.__proto__},$=function(e){return"[object Array]"===s.call(e)},Q=function(e){return Ie(e)?!1:n.routineIs(e)?!1:n.objectIs(e)?!1:n.strIs(e)?!1:n.numberIs(e.length)?!0:!1},X=function(e){return void 0===e||null===e?!1:n.numberIs(e.length)?!0:!1},Z=function(e){var r="[object String]"===s.call(e);return r},ee=function(e){var r="[object Symbol]"===s.call(e);return r},re=function(e){return"[object Number]"===s.call(e)},ne=function(e){return"[object Boolean]"===s.call(e)},te=function(e){return n.numberIs(e)&&!isNaN(e)&&e!==+(1/0)&&e!==-(1/0)},ae=function(e){return"[object Date]"===s.call(e)},se=function(e){var r=s.call(e);return/\wArray/.test(r)?"undefined"!=typeof Buffer&&e instanceof Buffer?!1:!0:!1},ue=function(e){var r=s.call(e),n="[object ArrayBuffer]"===r;return n},ie=function(e){return"undefined"!=typeof Buffer?e instanceof Buffer:!1},oe=function(e){return"[object Arguments]"===s.call(e)},fe=function(e){return e&&e._rowArray?!0:!1},ne=function(e){return"[object Boolean]"===s.call(e)},le=function(e){return"[object Function]"===s.call(e)},ce=function(e){return"[object Function]"!==s.call(e)?!1:e.name?!0:!1},ge=function(e){return"[object RegExp]"===s.call(e)},me=function(e){return void 0!==e&&null!==e&&NaN!==e},de=function(e){return e instanceof Event?!0:"undefined"==typeof jQuery?!1:e instanceof jQuery.Event?!0:!1},pe=function(e){return-1!==s.call(e).indexOf("[object HTML")},he=function(e){return e instanceof jQuery},ye=function(e){return e instanceof Node},ve=function(e){return Z(e)||ye(e)||he(e)},be=function(e){return e instanceof Error},Ie=function atomicIs(e){return re(e)||ne(e)||Z(e)||null===e||void 0===e},we=function(e){return null===e||void 0===e?null:re(e)||ne(e)||Z(e)?e.constructor:(yt(n.routineIs(e.constructor)&&e instanceof e.constructor),e.constructor)},xe=function(e){return e&&n.numberIs(e.BYTES_PER_ELEMENT)&&n.strIs(e.name)?-1!==e.name.indexOf("Array"):!1},Oe=function(e){return Z(e)?(e=e.toLowerCase(),"0"==e?!1:"false"==e?!1:"null"==e?!1:"undefined"==e?!1:""==e?!1:!0):!!e},Ae=function(e){if(yt(n.arrayIs(e)||n.numberIs(e)),n.numberIs(e))e=e>=0?[0,e]:[e,0];else{if(!n.arrayIs(e))throw n.err("numberRandomInt","unexpected argument");e=e}var r=Math.floor(e[0]+Math.random()*(e[1]-e[0]));return r},je=function(e){var r,t=10;if(n.numberIs(e))e=[0,e];else{if(!n.arrayIs(e))throw n.err("numberRandomInt","unexpected argument");e=e}for(var a=0;t>a;a++){for(var r=Math.floor(e[0]+Math.random()*(e[1]-e[0])),s=!1,u=1;u<arguments.length;u++)n.routineIs(arguments[u])?arguments[u](r)||(s=!0):r===arguments[u]&&(s=!0);if(!s)return r}throw console.warn("numberRandomIntNot:","NaN"),n.err("numberRandomIntNot:","NaN")},ke=function(e){return Z(e)?parseFloat(e):+e},Se=function(e){var r=s.call(e),t=/\[(\w+) (\w+)\]/.exec(r);if(!t)throw n.err("strTypeOf:","unknown type",r);return t[2]},Me=function(){var e="";if(!arguments.length)return e;for(var r=0;r<arguments.length;r++)e+=arguments[r]&&arguments[r].toStr?arguments[r].toStr()+" ":arguments[r]+" ";return e},Ee=function(e,r){return 0===e.lastIndexOf(r,0)},Le=function(e,r){return-1!==e.indexOf(r,e.length-r.length)},Ce=function(e,r){return Ee(e,r)?e.substr(r.length,e.length):e},_e=function(e,r){if(!Le(e,r))return e;debugger;return e.substr(e.length-r.length,e.length)},Be=function(e,r){return 0===e.lastIndexOf(r,0)?e:r+e},Ne=function(e,r){return-1!==e.indexOf(r,e.length-r.length)?e:e+r},Fe=H({includeAny:"includeAny",includeAll:"includeAll",excludeAny:"excludeAny",excludeAll:"excludeAll"}),Te=H({includeAll:"includeAll",excludeAny:"excludeAny"}),Pe=H({includeAny:"includeAny",excludeAll:"excludeAll"}),Ue=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},Re=function(e){var r="";n.assert(1===arguments.length),n.assert(n.strIs(e));var t=0;return e.replace(/(\*\*[\/\\]?)|\?|\*/g,function(a,s,u,i){if(r+=Ue(e.substr(t,u-t)),t=u+a.length,"?"===a)r+=".";else if("*"===a)r+="[^\\/]*";else{if("**"!==a.substr(0,2))throw n.err("unexpected");r+=".*"}}),r+=Ue(e.substr(t,e.length-t)),"^"!==r[0]&&(r=n.strPrependOnce(r,"./"),r=n.strPrependOnce(r,"^")),r=n.strAppendOnce(r,"$"),RegExp(r,"m")},Ke=function(e){return n.assert(n.arrayIs(e)||n.regexpIs(e)||n.strIs(e)),e=n.arrayIron(e),n.each(e,function(r,t,a){e[t]=n.regexpMakeExpression(r)}),e},qe=function(e){if(n.regexpIs(e))return e;if(n.strIs(e))return RegExp(n.regexpEscape(e));debugger;throw n.err("regexpMakeExpression:","unknown type of expression, expects regexp or string, but got",e)},ze=function(e,r,t){n.assert(n.arrayIs(e)||n.regexpIs(src)),n.assert(3===arguments.length);for(var e=n.arrayAs(e),a=0;a<e.length;a++)if(e[a].test(r))return a;return e.length?!1:t},De=function(e,r,t){n.assert(n.arrayIs(e)||n.regexpIs(src)),n.assert(3===arguments.length);for(var e=n.arrayAs(e),a=0;a<e.length;a++)if(!e[a].test(r))return a;return e.length?!0:t},Ge=function(e,r){var t=We(e,r);if(n.strIs(t))return!1;if(t===!0)return!0;debugger;throw n.err("unexpected")},We=function(e,r){if(!n.strIs(r))throw n.err("regexpTest:","expects string",r);if(!n.mapIs(e))throw n.err("regexpTest:","expects object",e);if(e.excludeAll){var t=n._regexpAll(e.excludeAll,r,!1);if(t===!0)return"excludeAll"}if(e.excludeAny){var t=n._regexpAny(e.excludeAny,r,!1);if(t!==!1)return e.excludeAny[t].source}if(e.includeAll){var t=n._regexpAll(e.includeAll,r,!0);if(t!==!0)return e.includeAll[t].source}if(e.includeAny){var t=n._regexpAny(e.includeAny,r,!0);if(t===!1)return"inlcude none from includeAny"}return!0},He=function(e){var r=arguments,t=He.defaults.atLeastOnce;1===arguments.length&&n.objectIs(e)&&(n.assertMapOnly(e,He.defaults),n.mapComplement(e,He.defaults),r=e.but,t=e.atLeastOnce);for(var a=n.arrayIron(r),s="^(?:(?!",u=0;u<a.length;u++)n.assert(n.strIs(a[u]));return s+=a.join("|"),s+=t?").)+$":").)*$",RegExp(s)};He.defaults={but:null,atLeastOnce:!0};var Ve=function(e){return Ye({dst:e,srcs:n.arraySlice(arguments,1),shrinking:1}),e},Je=function(e){Ye({dst:e,srcs:n.arraySlice(arguments,1),shrinking:0});debugger;throw n.err("not tested")},Ye=function(e){n.assertMapOnly(Ye.defaults,e),n.mapComplement(e,On.defaults),n.assert(n.mapIs(e.dst)),n.assert(n.arrayLike(e.srcs));var r=e.dst;for(var t in Fe)r[t]||(r[t]=[]);for(var a=0;a<e.srcs.length;a++){var s=e.srcs[a];if(!n.mapIs(s)){debugger;throw n.err("regexpObjectExtend:","argument must be regexp object",s)}n.assertMapOnly(s,Fe);var u=e.shrinking?Te:Fe;for(var t in u)s[t]&&(n.arrayIs(s[t])&&s[t].length||!n.arrayIs(s[t]))&&(r[t]=n.arrayAppendMerging(r[t],s[t]));if(e.shrinking)for(var t in Pe)s[t]&&(n.arrayIs(s[t])&&s[t].length||!n.arrayIs(s[t]))&&(r[t]=s[t])}return r};Ye.defaults={dst:null,srcs:null,shrinking:!0};var $e=function(e,r){var t={};if(n.assert(1===arguments.length||2===arguments.length),n.assert(n.mapIs(e)||n.arrayIs(e)||n.regexpIs(e)||n.strIs(e),n.strTypeOf(e)),n.regexpIs(e)&&(e=[e]),n.strIs(e)&&(e=[RegExp(n.regexpEscape(e))]),e||(e=[]),n.arrayIs(e)){if(n.assert(2===arguments.length),n.assert($e.names[r],"unknown mode:",r),!r)throw n.err("regexpObjectMake:","defaultMode is needed for array");e=n.arrayIron(e);for(var a=[],s=0;s<e.length;s+=1)if(n.regexpIs(e[s])||n.strIs(e[s]))a.push(n.regexpMakeExpression(e[s]));else{if(!n.objectIs(e[s]))throw n.err("unexpected");n.regexpObjectShrink(t,n.regexpObjectMake(e[s]))}if(t[r]&&t[r].length){var u={};u[r]=a,n.regexpObjectShrink(t,u)}else t[r]=a}else{if(!n.mapIs(e))throw n.err("regexpObjectMake:","unknown src",e);n.each(e,function(e,r,a){t[r]=n.regexpMakeArray(e)})}return n.assertMapOnly(t,$e.names,"unknown regexp filters"),t};$e.names=Fe;var Qe=function(){for(var e=n.regexpObjectMake([],$e.names.includeAny),r=0,t=arguments.length;t>r;r++){var a=arguments[r],s=n.regexpObjectMake(a,$e.names.includeAny);if(s.includeAny&&(e.excludeAny=n.arrayAppendMerging(e.excludeAny||[],s.includeAny)),s.excludeAny&&(e.includeAny=n.arrayAppendMerging(e.includeAny||[],s.excludeAny)),s.includeAll&&s.includeAll.length)if(1===s.includeAll.length)e.excludeAny=n.arrayAppendMerging(e.excludeAny||[],s.includeAll);else{if(e.excludeAll&&0!==e.excludeAll.length)throw n.err("regexpObjectBut:",'cant combine such regexp objects with "but" combiner');e.excludeAll=n.arrayAppendMerging(e.excludeAll||[],s.includeAll)}if(s.excludeAll&&s.excludeAll.length)if(1===s.excludeAll.length)e.includeAny=n.arrayAppendMerging(e.includeAny||[],s.excludeAll);else{if(e.includeAll&&0!==e.includeAll.length)throw n.err("regexpObjectBut:",'cant combine such regexp objects with "but" combiner');e.includeAll=n.arrayAppendMerging(e.includeAll||[],s.excludeAll)}}return e},Xe=function(e){var r=[];if(1===arguments.length&&0===arguments[0].length)return r;for(var t=0;t<arguments.length;t++){var a=arguments[t];if(n.arrayIs(a[0]))for(var s=0;s<a.length;s++)r.push(er(a[s]));else{if(!n.strIs(a[0]))throw n.err("unexpected");r.push(er(a))}}if(1===r.length)return r[0];var u=[];return n.eachSample({direct:0,samples:r,onEach:function(e,r){for(var t=n.regexpObjectShrink({},e[0]),a=1;a<e.length;a++)n.regexpObjectShrink(t,e[a]);u.push(t)}}),u},Ze=function regexpArrayIndex(e,r){n.assert(n.arrayIs(e)),n.assert(n.strIs(r));for(var t=0;t<e.length;t++){var a=e[t];if(n.assert(n.regexpIs(a)),a.test(r))return t}return-1},er=function(e){if(n.assert(1===arguments.length),n.assert(!e||n.arrayIs(e)),!e)return[];if(!e.length)return e;for(var r=[],t=0;t<e.length;t++)n.assert(n.strIs(e[t])),""!==e[t]&&r.push(n.regexpObjectMake(e[t],$e.names.includeAll));for(var a={},s=0;s<r.length;s++)n.regexpObjectShrink(a,n.regexpObjectBut(r[s]));for(var t=0;t<e.length;t++)""===e[t]&&r.splice(t,0,a);return r},rr=function _routineBind(e){yt(1===arguments.length),yt(n.boolIs(e.seal)),yt(n.routineIs(e.routine),"_routineBind:","expects routine"),yt(n.arrayIs(e.args)||n.argumentsIs(e.args)||void 0===e.args);var r=e.routine,t=e.args,s=e.context;if(a){if(void 0!==s&&void 0===t){if(e.seal===!0)throw n.err("not tested, not clear what convetion to use");return a.call(r,s)}if(void 0!==s){if(e.seal===!0)return function sealedContextAndArguments(){return r.apply(s,t)};var u=n.arrayAppendMerging([s],t);return a.apply(r,u)}return t||(t=[]),e.seal===!0?function sealedArguments(){throw n.err("not tested")}:function boundArguments(){var e=t.slice();return n.arrayAppendMerging(e,arguments),r.apply(this,e)}}throw n.err("not implemented")},nr=function routineBind(e,r,t){return yt(n.routineIs(e),"routineBind:","first argument must be a routine"),yt(arguments.length<=3,"routineBind:","expects 3 or less arguments"),rr({routine:e,context:r,args:t,seal:!1})},tr=function routineJoin(e,r,t){return yt(n.routineIs(r),"routineJoin:","second argument must be a routine"),yt(arguments.length<=3,"routineJoin:","expects 3 or less arguments"),rr({routine:r,context:e,args:t,seal:!1})},ar=function routineSeal(e,r,t){return yt(n.routineIs(r),"routineSeal:","second argument must be a routine"),yt(arguments.length<=3,"routineSeal:","expects 3 or less arguments"),rr({routine:r,context:e,args:t,seal:!0})},sr=function routineDelayed(e,r){return n.assert(arguments.length>=2),n.assert(n.numberIs(e)),n.assert(n.routineIs(r)),arguments.length>2&&(yt(arguments.length<=4),r=n.routineJoin.call(n,arguments[1],arguments[2],arguments[3])),function delayed(){n.timeOut(e,this,r,arguments)}},ur=function routinesCall(){var e=[];if(n.assert(arguments.length>=1&&arguments.length<=3),1===arguments.length){var r=arguments[0];n.assert(n.arrayIs(r)||n.routineIs(r));for(var r=n.arrayAs(r),t=0;t<r.length;t++)e[t]=r[t]()}else if(2===arguments.length){var a=arguments[0],r=arguments[1];n.assert(n.arrayIs(r)||n.routineIs(r));for(var r=n.arrayAs(r),t=0;t<r.length;t++)e[t]=r[t].call(a)}else if(3===arguments.length){var a=arguments[0],r=arguments[1],s=arguments[2];n.assert(n.arrayIs(r)||n.routineIs(r)),n.assert(n.arrayLike(s));for(var r=n.arrayAs(r),t=0;t<r.length;t++)e[t]=r[t].apply(a,s)}return e},ir=function(e){yt(1===arguments.length),yt(n.routineIs(e)),"undefined"!=typeof window&&"undefined"!=typeof document&&"complete"!=document.readyState?window.addEventListener("load",e):n.timeOut(1,e)},or=function(e,r,t){var a,s=new wConsequence,u=!1,i={delay:null,onBegin:null,onEnd:null};return n.objectIs(e)?(a=e,yt(1===arguments.length),n.assertMapOnly(a,i),e=a.delay,r=a.onBegin,t=a.onEnd):yt(2<=arguments.length&&arguments.length<=3),yt(e>=0),yt(n.atomicIs(r)||n.routineIs(r)||n.objectIs(r)),yt(n.atomicIs(t)||n.routineIs(t)||n.objectIs(t)),function timeOnce(){return u?void 0:(u=!0,r&&(n.routineIs(r)?r.apply(this,arguments):n.objectIs(r)&&r.give(arguments),s.give()),n.timeOut(e,function(){t&&(n.routineIs(t)?t.apply(this,arguments):n.objectIs(t)&&t.give(arguments),s.give()),u=!1}),s)}},fr=function(e,r){var t=new wConsequence;if(arguments.length>2&&!n.routineIs(arguments[2]))debugger;yt(n.numberIs(e)),2===arguments.length?yt(n.routineIs(r)||r instanceof wConsequence):arguments.length>2&&yt(n.routineIs(arguments[2]));var a=function(){var e;n.routineIs(r)?(e=r(),e instanceof wConsequence?e.then_(t):t.give(e)):r instanceof wConsequence&&(r.give(),r.then_(t))};return arguments.length>2&&(yt(arguments.length<=4),r=n.routineJoin.call(n,arguments[1],arguments[2],arguments[3])),setTimeout(a,e),t},lr=function(e,r){var t;if(yt(n.routineIs(r)),arguments.length>2)throw n.err("Not tested");var a=function(){var e=r.call();e===!1&&clearInterval(t)};return t=setInterval(a,e)},cr=function(e){clearInterval(e)},gr=function(){var e;return yt(0===arguments.length),e="undefined"!=typeof performance&&void 0!==performance.now?n.routineBind(performance.now,performance):Date.now?n.routineBind(Date.now,Date):function(){return Date().getTime()}},mr=function(e,r){var n=bt();yt(1<=arguments.length&&arguments.length<=2);var t="Spent "+(r||"")+" : "+(.001*(n-e)).toFixed(3)+"s";return t},dr=function dateToStr(e){var r=e.getFullYear(),n=e.getMonth()+1,t=e.getDate();10>n&&(n="0"+n),10>t&&(t="0"+t);var a=[r,n,t].join(".");return a},pr=function(e,r,t){if(n.atomicIs(e))throw n.err("arraySub","Unknown argument type");if(n.routineIs(e.subarray))return e.subarray(r,t);if(!n.routineIs(e.slice))throw n.err("arraySub","Unknown argument type");return e.slice(r,t)},hr=function(e,r){var t;if(void 0===r&&(yt(n.numberIs(e.length)),r=e.length),!(n.arrayIs(e)||n.bufferIs(e)||e instanceof ArrayBuffer))throw n.err("arrayNew:","unknown type of instance");return t=new e.constructor(r)},yr=function(e){if(!n.atomicIs(e)&&(n.arrayIs(e)||n.bufferIs(e))){var r=hr(e,e.length);return r}},vr=function(e,r){if(n.assert(2===arguments.length),n.assert(n.numberIs(e)||n.arrayIs(e),"expects array of number as argument"),n.assert(r>=0),n.numberIs(e))e=Dr({times:r,value:e});else if(e.length!==r)throw n.err("expects array of length",r,"but got",e);return e},br=function(e,r){var t=1;n.objectIs(r)&&(t=r.atomsPerElement||1,r=r.indices),yt(n.bufferIs(e)||n.arrayIs(e)),yt(n.bufferIs(r)||n.arrayIs(r));var a=new e.constructor(r.length);if(1===t)for(var s=0,u=r.length;u>s;s+=1)a[s]=e[r[s]];else for(var s=0,u=r.length;u>s;s+=1){throw n.err("Not tested")}return a},Ir=function(e,r,t){var a=[],s=e.length;void 0===t&&(t=function(e,r){return r-e});for(var u=function(r,n){return t(e[r],e[n])},i=0;s>i;i+=1)a.length<r?n.arraySortedAdd(a,i,u):(n.arraySortedAdd(a,i,u),a.splice(a.length-1,1));return a},wr=function(){for(var e=n.arrayIs(this)?this:[],r=0;r<arguments.length;r++){var t=arguments[r];if(n.arrayLike(t)){for(var a=0;a<t.length;a++)if(n.arrayIs(t[a]))n.arrayIron.call(e,t[a]);else if(void 0!==t[a])e.push(t[a]);else if(void 0===t[a])throw n.err("array should have no undefined")}else void 0!==t&&e.push(t)}return e},xr=function(){for(var e=n.arrayIs(this)?this:{},r=function(e,r){n.assertMapNone(e,r),n.mapExtend(e,r)},t=0;t<arguments.length;t++){var a=arguments[t];if(n.arrayLike(a))for(var s=0;s<a.length;s++)if(n.arrayIs(a[s]))n.arrayIronToMap.call(e,a[s]);else{if(!n.objectIs(a[s]))throw n.err("array should have only maps");r(e,a)}else n.assert(n.objectIs(a)),void 0!==a&&r(e,a)}return e},Or=function arrayCopy(){for(var e,r=0,t=0;t<arguments.length;t++){var a=arguments[t];if(void 0===a)throw n.err("arrayCopy","argument is not defined");r+=n.arrayLike(a)?a.length:n.bufferArrayIs(a)?a.byteLength:1}n.arrayIs(arguments[0])||n.bufferIs(arguments[0])?e=hr(arguments[0],r):n.bufferArrayIs(arguments[0])&&(e=new ArrayBuffer(r));var s,u=0;n.bufferArrayIs(arguments[0])&&(s=new Uint8Array(e));for(var t=0,i=0;t<arguments.length;t++){var a=arguments[t];if(n.bufferArrayIs(a))s.set(new Uint8Array(a),u),u+=a.byteLength;else if(n.bufferIs(arguments[0]))e.set(a,u),u+=a.length;else if(n.arrayLike(a))for(var o=0;o<a.length;o++)e[i]=a[o],i+=1;else e[i]=a,i+=1}return e},Ar=function arrayAppendMerging(e){var r=e;yt(n.arrayIs(e),"arrayAppendMerging:","expects array");for(var t=1;t<arguments.length;t++){var a=arguments[t];if(void 0===a)throw n.err("arrayAppendMerging","argument is not defined");n.arrayLike(a)?r.push.apply(r,a):r.push(a)}return r},jr=function arrayPrependMerging(e){var r=e;yt(n.arrayIs(e),"arrayPrependMerging:","expects array");for(var t=arguments.length-1;t>0;t--){var a=arguments[t];if(void 0===a)throw n.err("arrayPrependMerging","argument is not defined");n.arrayLike(a)?r.unshift.apply(e,a):r.unshift(a)}return r},kr=function arrayAppendOnceMerging(e){var r=e;yt(n.arrayIs(e),"arrayAppendOnceMerging:","expects array");for(var t=1;t<arguments.length;t++){var a=arguments[t];if(void 0===a)throw n.err("arrayAppendOnceMerging","argument is not defined");if(n.arrayLike(a))for(var s=0;s<a.length;s++)-1===r.indexOf(a[s])&&r.push(a[s]);else-1===r.indexOf(a)&&r.push(a)}return r},Sr=function arrayPrependOnceMerging(e){var r=e;yt(n.arrayIs(e),"arrayPrependOnceMerging:","expects array");for(var t=1;t<arguments.length;t++){var a=arguments[t];if(void 0===a)throw n.err("arrayPrependOnceMerging","argument is not defined");if(n.arrayLike(a))for(var s=a.length-1;s>=0;s++)-1===r.indexOf(a[s])&&r.unshift(a[s]);else-1===r.indexOf(a)&&r.unshift(a)}return r},Mr=function(e,r,t){yt(n.arrayIs(e),"arrayElementsSwap:","argument must be array"),yt(r>=0&&r<e.length,"arrayElementsSwap:","index1 is out of bound"),yt(t>=0&&t<e.length,"arrayElementsSwap:","index2 is out of bound");var a=e[r];return e[r]=e[t],e[t]=a,e},Er=function(e){if(n.arrayIs(e))return e;if(n.objectIs(e))return n.mapToArray(e);if(n.strIs(e)){-1!==e.indexOf(",")?",":" ";return e.split(/[, ]+/).map(function(e){return e.length?parseFloat(e):void 0})}return n.argumentsIs(e)?t.call(e):void 0},Lr=function(e){for(var r={},n=0;n<e.length;n++)r[n]=e[n];return r},Cr=function(e,r,t){n.assert(n.arrayLike(e)),n.assert(2===arguments.length||3===arguments.length);var a=-1;if(2===arguments.length)var a=e.indexOf(r);else{if(3!==arguments.length)throw n.err("unexpected");n.assert(n.routineIs(t));var a=Vr(e,r,t)}return a>=0&&e.splice(a,1),a},_r=function(e,r,t){return n.assert(2===arguments.length||3===arguments.length),2===arguments.length?Cr(e,r):3===arguments.length&&Cr(e,r,t),e},Br=function(e,r,t){n.assert(n.arrayLike(e)),n.assert(2===arguments.length||3===arguments.length),3===arguments.length&&n.assert(n.routineIs(t));var a=0;void 0===t&&(t=function(e,r){return e===r});for(var s=e.length-1;s>=0;s--)t(e[s],r)&&(e.splice(s,1),a+=1);return a},Nr=function(e,r,t){return n.assert(2===arguments.length||3===arguments.length),2===arguments.length?Br(e,r):3===arguments.length&&Br(e,r,t),e},Fr=function(e,r){if(!e)return[r];var n=e.indexOf(r);return-1===n&&e.push(r),e},Tr=function(e,r,n,t){var a=[n,t];return a.push.apply(a,r),e.splice.apply(e,a),e},Pr=function arraySlice(e,r,t){n.assert(n.arrayLike(e));var a,r=void 0!==r?r:0,t=void 0!==t?t:e.length;r>t&&(t=r),a=n.bufferIs(e)?new e.constructor(t-r):Array(t-r);for(var s=r;t>s;s++)a[s-r]=e[s];return a},Ur=function(e){return null===e||void 0===e?[]:n.arrayIs(e)?e:[e]},Rr=function(e,r){var n="",r=r||{};if(void 0===r.precission&&(r.precission=5),void 0===r.type&&(r.type="mixed"),!e.length)return n;if("float"===r.type){for(var t=0;t<e.length-1;t++)n+=e[t].toPrecision(r.precission)+" ";n+=e[t].toPrecision(r.precission)}else if("int"===r.type){for(var t=0;t<e.length-1;t++)n+=e[t]+" ";n+=e[t]+" "}else{throw"_.arrayToStr: not tested";var t}return n},Kr=function arrayPut(e,r){r=r||0;for(var t=2;t<arguments.length;t++){var a=arguments[t],s=n.arrayIs(a)||n.bufferIs(a);if(s&&n.bufferIs(e))e.set(a,r),r+=a.length;else if(s)for(var u=0;u<a.length;u++)e[r]=a[u],r+=1;else e[r]=a,r+=1}return e},qr=function arrayMask(e,r){if(!n.arrayLike(e))throw n.err("arrayMask:","expects array-like as srcArray");if(!n.arrayLike(r))throw n.err("arrayMask:","expects array-like as mask");var t=r.length,a=e.length/t;if(Math.floor(a)!==a)throw n.err("arrayMask:","expects mask has component for each atom of srcArray",n.toStr({atomsPerElement:t,"srcArray.length":e.length}));for(var s=0,u=0;u<r.length;u++)r[u]&&(s+=1);var i=new e.constructor(a*s);if(!s)return i;for(var o=0,f=0;a>f;f++)for(var u=0;u<r.length;u++)r[u]&&(i[o]=e[f*t+u],o+=1);return i},zr=function arrayDuplicate(e,r){n.objectIs(e)&&(r=e,e=r.src);var r=r||{};void 0===r.numberOfAtomsPerElement&&(r.numberOfAtomsPerElement=1),void 0===r.numberOfDuplicatesPerElement&&(r.numberOfDuplicatesPerElement=2),n.assertMapOnly(r,{src:"src",result:"result",numberOfAtomsPerElement:"numberOfAtomsPerElement",numberOfDuplicatesPerElement:"numberOfDuplicatesPerElement"});for(var t=e.length*r.numberOfDuplicatesPerElement,a=r.result||hr(e,t),s=e.length/r.numberOfAtomsPerElement,u=0,i=s;i>u;u++)for(var o=0,f=r.numberOfDuplicatesPerElement;f>o;o++)for(var l=0,c=r.numberOfAtomsPerElement;c>l;l++){var g=u*r.numberOfAtomsPerElement*r.numberOfDuplicatesPerElement+o*r.numberOfAtomsPerElement+l,m=u*r.numberOfAtomsPerElement+l;a[g]=e[m]}return a},Dr=function arrayFill(e){yt(1===arguments.length),yt(n.objectIs(e)||n.numberIs(e)||n.arrayIs(e),"arrayFill:",'"options" must be object'),n.numberIs(e)?e={times:e}:n.arrayIs(e)&&(e={result:e});var r=e.result||[],t=void 0!==e.times?e.times:r.length,a=void 0!==e.value?e.value:0;if(n.routineIs(r.fill))r.length<t&&(r.length=t),r.fill(a,0,t);else for(var s=0;t>s;s++)r[s]=a;return yt(r[t-1]===a),r},Gr=function(e,r){for(var n=0,t=0;t<e.length;t++)if(n=e[t]-r[t],0!==n)return n;return n},Wr=function(e,r){var n=!0;if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(n=e[t]===r[t],!n)return n;return n},Hr=function(e,r){if(e.length!==r.length)return!1;for(var n=e.slice(),t={},a=0;a<r.length;a++){var s=n.indexOf(r[a]);if(-1===s)return!1;n[s]=t}return!0},Vr=function(e,r,n){n||(n=function(e,r){return e===r});for(var t=0;t<e.length;t++)if(n(e[t],r))return t;return-1},Jr=function(e,r,t){t||(t=n.arraySame);for(var a=e.length-1;a>=0;a--)if(t(e[a],r))return a;return-1},Yr=function(e,r,t){var a,s=n.arrayLeftIndexOf(e,r,t);return s>=0&&(a={index:s,element:e[s]}),a},$r=function(e){yt(n.arrayIs(e)||n.bufferIs(e),"arrayHasAny:","array expected");for(var r=1;r<arguments.length;r++)for(var t=n.arrayAs(arguments[r]),a=0;a<t.length;a++)if(-1!==e.indexOf(t[a]))return!0;return!1},Qr=function(e,r){var t=0;yt(2===arguments.length),yt(n.arrayIs(e)||n.bufferIs(e),"arrayCount:","array expected");for(var a=e.indexOf(r);-1!==a;)t+=1,a=e.indexOf(r,a+1);return t},Xr=function arraySupplement(e){var r=e;null===r&&(r=[]);var t=r.length;for(yt(n.arrayLike(r),"expects object as argument"),s=arguments.length-1;s>=1;s--)t=Math.max(t,arguments[s].length),yt(arguments[s],"argument is not defined:",s);for(var a=0;t>a;a++)if(!(a in e)||isNaN(e[a])){var s;for(s=arguments.length-1;s>=1&&(!(a in arguments[s])||isNaN(arguments[s][a]));s--);0!==s&&(r[a]=arguments[s][a])}return r},Zr=function arrayExtendScreening(e,r){var t=r;for(null===t&&(t=[]),yt(n.arrayLike(e),"expects object as screenArray"),yt(n.arrayLike(t),"expects object as argument"),s=arguments.length-1;s>=2;s--)yt(arguments[s],"argument is not defined:",s);for(var a=0;a<e.length;a++)if(void 0!==e[a]){var s;for(s=arguments.length-1;s>=2&&!(a in arguments[s]);s--);1!==s&&(t[a]=arguments[s][a])}return t},en=function(e){var r=[];n.numberIs(e)&&(e={length:e}),void 0===e.int&&(e.int=!1),void 0===e.range&&(e.range=[0,1]);for(var t=0;t<e.length;t++)r[t]=e.range[0]+Math.random()*(e.range[1]-e.range[0]),e.int&&(r[t]=Math.floor(r[t]));return r},rn=function(e){var r=[];n.assert(n.arrayLike(e));for(var t=0;t<e.length;t++){for(var a=1;a<arguments.length;a++)throw n.assert(n.arrayLike(arguments[a])),n.err("Not tested");a===arguments.length&&r.push(e[t])}return r},nn=function(e){n.assert(n.arrayLike(e));for(var r=1;r<arguments.length;r++){if(n.assert(n.arrayLike(arguments[r])),e.length>arguments[r].length)return!1;for(var t=0;t<e.length;t++)if(-1===arguments[r].indexOf(e[t]))return!1}return!0},tn=function(e){n.assert(n.arrayLike(e));for(var r=1;r<arguments.length;r++){n.assert(n.arrayLike(arguments[r]));for(var t=0;t<e.length;t++)if(-1!==arguments[r].indexOf(e[t]))return!0}return!1},an=function(e,r,n,t,a){for(var s=0,u=Math.floor((t+a+1)/2);a>t;){var s=n(e[u],r);if(0>s)t=u+1,u=Math.floor((t+a)/2);else{if(!(s>0))return u;a=u-1,u=Math.ceil((t+a)/2)}}if(u<e.length){var s=n(e[u],r);0>s&&(u+=1)}return u},sn=function(e,r,t){void 0===t&&(t=function(e,r){return e-r});var a=e.length,s=n._arraySortedLookUpAct(e,r,t,0,a-1);return s!==a&&0===t(r,e[s])?{value:e[s],index:s}:void 0},un=function(e,r,t){if(!e.length)return{index:0};void 0===t&&(t=function(e,r){return e-r});var a=e.length,s=n._arraySortedLookUpAct(e,r,t,0,a-1);if(s===a)return{index:a-1,value:e[a-1]};var u=t(e[s],r);if(0===u)return{value:e[s],index:s};if(0>u)throw n.err("redundant branch?");return u>0?0===s?{value:e[s],index:s}:Math.abs(t(e[s-1],r))<Math.abs(u)?{value:e[s-1],index:s-1}:{value:e[s],index:s}:void 0},on=function(e,r,t){void 0===t&&(t=function(e,r){return e-r});var a=e.length,s=n._arraySortedLookUpAct(e,r,t,0,a-1),u=s!==a&&0===t(r,e[s]);return u&&e.splice(s,1),u},fn=function(e,r,t){void 0===t&&(t=function(e,r){return e-r});var a=e.length,s=n._arraySortedLookUpAct(e,r,t,0,a-1),u=s===a||0!==t(r,e[s]);return u&&e.splice(s,0,r),u},ln=function(e,r,t){void 0===t&&(t=function(e,r){return e-r});var a=e.length,s=n._arraySortedLookUpAct(e,r,t,0,a-1);return e.splice(s,0,r),s},cn=function(e,r,n){var t=0;void 0===n&&(n=function(e,r){return e-r});for(var a=0;a<r.length;a++)t+=ln(e,r[a],n);return t},gn=function(e,r){var n=e;return r>e.length?(n=hr(e,r),n.set(e)):r<e.length&&(n=e.subarray(0,r)),n},mn=function bufferResize(e,r){var t=e;if(!(e instanceof ArrayBuffer))throw n.err("_.bufferResize:",'"src" is not instance of "ArrayBuffer"');if(r>e.byteLength){t=hr(e,r);var a=new Uint8Array(t,0,t.byteLength),s=new Uint8Array(e,0,e.byteLength);a.set(s)}else r<e.byteLength&&(t=e.slice(0,r));return t},dn=function(e){if(e instanceof ArrayBuffer)return new Uint8Array(e);if("undefined"!=typeof Buffer&&e instanceof Buffer)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(n.bufferIs(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(n.strIs(e))return new Uint8Array(n.utf8ToBuffer(e));throw n.err("_.bufferBytesGet:","wrong argument")},pn=function(e,r){n.assert(n.bufferIs(e)),n.assert(n.typeIsBuffer(r));var t=e.byteOffset,a=Math.floor(e.byteLength/r.BYTES_PER_ELEMENT),s=new r(e.buffer,t,a);return s},hn=function(e,r){if(2===arguments.length){if(n.assert(n.arrayLike(e)),n.assert(n.arrayLike(r)),e.length!==r.length)throw n.err("_.bufferMove:",'"dst" and "src" must have same length');if(e.set)return e.set(r),e;for(var t=0;t<r.length;t++)e[t]=r[t]}else{if(1!==arguments.length)throw n.err("unexpected");var a=arguments[0];n.assertMapOnly(a,hn.defaults);var r=a.src,e=a.dst;if(n.bufferArrayIs(e)&&(e=new Uint8Array(e),!n.bufferIs(r)||r instanceof Uint8Array||(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength))),n.assert(n.arrayLike(e)),n.assert(n.arrayLike(r)),a.dstOffset=a.dstOffset||0,e.set)return e.set(r,a.dstOffset),e;for(var t=0,s=a.dstOffset;t<r.length;t++,s++)e[s]=r[t]}return e};hn.defaults={dst:null,src:null,dstOffset:null};var yn=function(e,r){var n="";e instanceof ArrayBuffer&&(e=new Uint8Array(e,0,e.byteLength));try{n=String.fromCharCode.apply(null,e)}catch(r){for(var t=0;t<e.byteLength;t++)n+=String.fromCharCode(e[t])}return n},vn=function(e){var r;if("undefined"!=typeof DOMParser&&DOMParser.prototype.parseFromBuffer){var t=new DOMParser;throw r=t.parseFromBuffer(e,e.byteLength,"text/xml"),n.err("not tested")}var a=n.bufferToStr(e);return r=this.strToDom(a)},bn=function(e,r){n.bufferIs(e)||(e=n.bufferBytesGet(e)),n.bufferIs(r)||(r=n.bufferBytesGet(r)),n.assert(n.bufferIs(e)),n.assert(n.bufferIs(r));var t=-1;do{t+=1;for(var t=e.indexOf(r[0],t),a=0;a<r.length&&e[t+a]===r[a];a++);if(a===r.length)return t}while(-1!==t);return-1},In=function(e,r){n.objectIs(e)&&(r=e,e=r.buffer);var r=r||{},e=r.buffer=e||r.buffer;if(void 0===r.BufferType&&(r.BufferType=Float32Array),void 0===r.sameLength&&(r.sameLength=1),!r.sameLength)throw n.err("_.bufferFromArrayOfArray:","differemt length of arrays is not implemented");if(!e.length)return new r.BufferType;var t=n.numberIs(e[0].length)?e[0].length:e[0].len;if(!n.numberIs(t))throw n.err("_.bufferFromArrayOfArray:","cant find out element length");for(var a=e.length*t,s=new r.BufferType(a),u=0,i=0;i<e.length;i++)for(var o=e[i],f=0;t>f;f++)s[u]=o[f],u+=1;return s},wn=function(e,r){if(yt(2===arguments.length),yt(n.objectIs(r)),n.bufferIs(e)||n.arrayIs(e))return e;var t=e.length;if(!n.numberIs(t))for(var t=0;void 0!==e[t];)t+=1;for(var a=new r.bufferConstructor(t),s=0;t>s;s++)a[s]=e[s];return a},xn=function(e){if(n.assert(n.bufferIs(e)||n.bufferArrayIs(e)),n.bufferArrayIs(e))return e;var r=e.buffer;return(0!==e.byteOffset||e.byteLength!==r.byteLength)&&(r=r.slice(e.byteOffset,r.byteLength)),r},On=function buffersSerialize(e){var r=0,e=e||{};n.assertMapNoUndefine(e),n.assertMapOnly(e,buffersSerialize.defaults),n.mapComplement(e,buffersSerialize.defaults),n.assert(n.objectIs(e.store));for(var t=e.store,a=(t.attributes=t.attributes||{},e.onAttributesGet.call(e.context)),s=[],u=0;u<a.length;u++){var i=a[u][0],o=a[u][1],f=e.onBufferGet.call(e.context,o),l=f.length*f.BYTES_PER_ELEMENT;if(!e.dropAttribute||!e.dropAttribute[i]){var c={};c.attribute=o,c.name=i,c.buffer=f,c.bufferSize=l,c.sizeOfAtom=f.BYTES_PER_ELEMENT,s.push(c),r+=l}}t.buffer||(t.buffer=new ArrayBuffer(r));var g=n.bufferBytesGet(t.buffer);if(n.assert(t.buffer.byteLength===r),t.buffer.byteLength<r)throw n.err("buffersSerialize:","buffer does not have enough space");s.sort(function(e,r){return r.sizeOfAtom-e.sizeOfAtom});for(var m=0,d=0;d<s.length;d++){var i=s[d].name,o=s[d].attribute,f=s[d].buffer,p=n.bufferBytesGet(f),l=s[d].bufferSize;if(!e.dropAttribute||!e.dropAttribute[i]){n.bufferMove(g.subarray(m,m+l),p);var h=t.attributes[i]={bufferConstructorName:f.constructor.name,sizeOfAtom:f.BYTES_PER_ELEMENT,offsetInCommonBuffer:m,size:p.length};o.copyCustom&&(h.fields=o.copyCustom({dst:{},src:o,constitutes:!1,copyComposes:!0,copyConstitutes:!0,copyAggregates:!1})),m+=l}}return t};On.defaults={context:null,store:null,dropAttribute:{},onAttributesGet:function(){return n.mapPairs(this.attributes)},onBufferGet:function(e){return e.buffer}};var An=function(r){var r=r||{},t=r.store,a=t.buffer;n.assertMapNoUndefine(r),n.assertMapOnly(r,An.defaults),n.mapComplement(r,An.defaults),n.assert(n.objectIs(r.store)),n.assert(n.bufferArrayIs(a)||n.bufferIs(a)),a=n.bufferArrayFromBuffer(a);for(var s in t.attributes){var u=t.attributes[s],i=e[u.bufferConstructorName],o=u.offsetInCommonBuffer,f=u.size,l=u.sizeOfAtom,c=u.fields;if(n.assert(n.routineIs(i),"unknown attribute' constructor:",u.bufferConstructorName),n.assert(n.numberIs(o),"unknown attribute' offset in common buffer:",o),n.assert(n.numberIs(f),"unknown attribute' size of buffer:",f),n.assert(n.numberIs(l),"unknown attribute' sizeOfAtom of buffer:",l),u.offset+f>a.byteLength)throw n.err("cant deserialize attribute",'"'+s+'"',"it is out of common buffer");var g=new i(a,o,f/l);r.onAttribute.call(r.context,c,g,s)}};An.defaults={store:null,context:null,onAttribute:function(e,r){e.buffer=r,new this.BufferAttribute(e).addTo(this)}};var jn=function(e,r){var r=r||{},t=r.dst||{};yt(n.mapIs(r)),yt(arguments.length<=2,"mapClone:","expects srcObject as argument"),yt(J(e),"mapClone:","expects srcObject as argument"),r.onCopyField||(r.onCopyField=function(e,r,t){n.assert(n.strIs(t)),e[t]=r[t]});for(var a in e)u.call(e,a)&&r.onCopyField(t,e,a,r.onCopyField);return t.__proto__=e.__proto__,t},kn=function(e,r){var t=r,e=n.filter.makeMapper(e);null===t&&(t={}),yt(arguments.length>=3),yt(n.routineIs(e)),yt(n.objectLike(t),"mapExtendFiltering:","expects object as argument");for(var a=2;a<arguments.length;a++){var s=arguments[a];n.assert(!n.atomicIs(s));for(var u in s)e.call(this,r,s,u)}return t},Sn=function mapExtend(e){var r=e;null===r&&(r={}),_(arguments.length>=2),_(J(r),"mapExtend:","expects object as argument");for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)r[a]=t[a]}return r},Mn=function(e){var r=n.arraySlice(arguments);return r.unshift(n.filter.supplementary()),kn.apply(this,r)},En=function(e){var r=n.arraySlice(arguments);return r.unshift(n.filter.supplementaryCloning()),kn.apply(this,r)},Ln=function mapCopy(){var e=n.arrayAppendMerging([],{},arguments);return n.mapExtend.apply(n,e)},Cn=function mapFirst(e){for(var r in e)return[r,e[r]]},_n=function(e){var r=[];for(var n in e)r.push([n,e[n]]);return r},Bn=function(e,r){if(!(0>r)){var n=0;for(var t in e){if(n==r)return e[t];n++}}},Nn=function(e,r){if(!(0>r)){var n=0;for(var t in e){if(n==r)return t;n++}}},Fn=function(e,r,t){n.strIs(r)||(r=": "),n.strIs(t)||(r="; ");var a="";for(var s in e)a+=s+r+e[s]+t;return a=a.substr(0,a.length-t.length)},Tn=function mapKeys(e){var r=[];if(n.assert(n.objectLike(e)),n.objectIs(e)&&Object.keys)return Object.keys(e);for(var t in e)r.push(t);return r},Pn=function(e){var r=[];n.assert(n.objectLike(e));for(var t in e)r.push(e[t]);return r},Un=function(e){var r=[];n.assert(n.objectLike(e));for(var t in e)r.push([t,e[t]]);return r},Rn=function(e,r){var t=new e.constructor,r=n.nameUnfielded(r).coded;return yt(n.arrayIs(e)||n.objectIs(e)),n.each(e,function(e,n){t[n]=e[r]}),t},Kn=function(e,r){var t={};n.strIs(r)&&(r={key:r}),yt(n.strIs(r.key)),yt(n.objectIs(e)||n.arrayIs(e)),yt(n.objectIs(r));var a=r.key;return n.each(e,function(r,n,s){void 0===t[e[n][a]]&&(t[e[n][a]]=[]),t[e[n][a]].push(e[n])}),t},qn=function(e,r){if(n.assert(2===arguments.length),Object.keys(e).length===Object.keys(r).length){for(var t in e)if(e[t]!==r[t])return;return!0}},zn=function(e,r){n.assert(2===arguments.length);for(var t in r)if(void 0!==r[t]&&e[t]!==r[t])return!1;return!0},Dn=function(e,r){if(n.strIs(r))return u.call(e,r);if(n.mapIs(r))return u.call(e,n.nameUnfielded(r).coded);if(n.symbolIs(r))return u.call(e,r);throw n.err("mapOwn :","unknown arguments")},Gn=function(e){var r,t,a={};yt(n.objectLike(e),"mapBut :","expects object as argument");for(t in e){for(r=1;r<arguments.length;r++){var s=arguments[r];if(yt(n.objectIs(s),"argument","#"+r,"is not object"),t in s)break}r===arguments.length&&(a[t]=e[t])}return a},Wn=function(e,r){var t,a,s={},e=n.filter.makeMapper(e);_(J(r),"mapButFiltering:","expects object as argument");for(a in r){for(t=2;t<arguments.length;t++){var u=arguments[t];if(a in u)break}t===arguments.length&&e.call(this,s,r,a)}return s},Hn=function mapOwnBut(e){var r,n,t={};_(J(e),"mapOwnBut:","expects object as argument");for(n in e)if(u.call(e,n)){for(r=1;r<arguments.length;r++){var a=arguments[r];if(n in a)break}r===arguments.length&&(t[n]=e[n])}return t},Vn=function(e,r){if(yt(arguments.length>=2,"mapScreens:","expects at least 2 arguments"),arguments.length>2){debugger;throw n.err("not tested")}var t=Yn({screenObjects:r,srcObjects:e,dstObject:{}});return t},Jn=function(e){return n.assert(arguments.length>=2),n.assert(2===arguments.length),Yn({screenObjects:e,srcObjects:n.arraySlice(arguments,1),dstObject:{}})},Yn=function(e){var r=e.dstObject||{},t=e.screenObjects,a=e.srcObjects;for(n.arrayIs(t)&&(t=n.mapCopy.apply(this,t)),n.arrayIs(a)||(a=[a]),e.filter||(e.filter=pt.bypass()),e.filter=n.filter.makeMapper(e.filter),n.assert(1===arguments.length),yt(n.objectLike(r),"_mapScreen:","expects object as argument"),yt(n.objectLike(t),"_mapScreen:","expects object as screenObject"),yt(n.arrayIs(a),"_mapScreen:","expects array of object as screenObject"),n.assertMapOnly(e,Yn.defaults),u=a.length-1;u>=0;u--)yt(n.objectLike(a[u]),"_mapScreen:","expects object as argument");for(var s in t)if(void 0!==t[s]){var u;for(u=a.length-1;u>=0&&!(s in a[u]);u--);-1!==u&&e.filter.call(this,r,a[u],s)}return r};Yn.defaults={filter:null,screenObjects:null,srcObjects:null,dstObject:null};var $n=function(){var e=function bypass(e,r,n){return!0};return e.functionKind="field-filter",e},Qn=function(){var e=function own(e,r,n){return u.call(r,n)?!0:!1};return e.functionKind="field-filter",e},Xn=function(){var e=function ownRoutines(e,r,t){return u.call(r,t)&&n.routineIs(r[t])?!0:!1};return e.functionKind="field-filter",e},Zn=function(){var e=function supplementaryOwnRoutines(e,r,t){return u.call(r,t)&&n.routineIs(r[t])?void 0!==!e[t]?!1:!0:!1};return e.functionKind="field-filter",e},et=function(){var e=function supplementary(e,r,n){return void 0!==e[n]?!1:!0};return e.functionKind="field-filter",e},rt=function(){var e=function supplementaryCloning(e,r,t){void 0===e[t]&&n.entityCopyField(e,r,t)};return e.functionKind="field-mapper",e},nt=function(){var e=function supplementaryOwn(e,r,n){return u.call(r,n)?void 0!==e[n]?!1:!0:!1};return e.functionKind="field-filter",e},tt=function(){var e=function supplementaryCloningOwn(e,r,t){u.call(r,t)&&void 0===e[t]&&n.entityCopyField(e,r,t)};return e.functionKind="field-mapper",e},at=function(){var e=function cloning(e,r,t){n.entityCopyField(e,r,t)};return e.functionKind="field-mapper",e},st=function(){var e=function cloning(e,r,t){u.call(r,t)&&n.entityCopyField(e,r,t)};return e.functionKind="field-mapper",e},ut=function(){var e=function atomic(e,r,t){return n.atomicIs(r[t])?!0:!1};return e.functionKind="field-filter",e},it=function(){var e=function atomicOwn(e,r,t){return u.call(r,t)&&n.atomicIs(r[t])?!0:!1};return e.functionKind="field-filter",e},ot=function(){var e=function notAtomicCloning(e,r,t){n.atomicIs(r[t])||n.entityCopyField(e,r,t)};return e.functionKind="field-mapper",e},ft=function(){var e=function notAtomicCloningOwn(e,r,t){u.call(r,t)&&(n.atomicIs(r[t])||n.entityCopyField(e,r,t))};return e.functionKind="field-mapper",e},lt=function(){var e=function notAtomicCloningRecursiveOwn(e,r,t){u.call(r,t)&&(n.atomicIs(r[t])||n.entityCopyField(e,r,t,n.entityCopyField))};return e.functionKind="field-mapper",e},ct=function(){var e=function recursiveClonning(e,r,t){n.entityCopyField(e,r,t,n.entityCopyField)};return e.functionKind="field-mapper",e},gt=function(e){n.assert(n.objectIs(e));var r=function drop(r,n,t){return void 0!==e[t]?!1:!0};return r.functionKind="field-filter",r},mt=function(){for(var e=[],r=[],t=0;t<arguments.length;t++){var a=arguments[t];if(n.assert(n.routineIs(a)),n.assert(n.strIs(a.functionKind)),"field-filter"===a.functionKind)e.push(a);else{if("field-mapper"!==a.functionKind)throw n.err("expects routine.functionKind");r.push(a)}}if(r.length>1)throw n.err("can combine only one mapper with any number of filters");var a=function and(t,a,s){for(var u=0;u<e.length;u++){var i=e[u],o=i(t,a,s);if(n.assert(n.boolIs(o)),o===!1)return r.length?void 0:!1}for(var f=0;f<r.length;f++){var l=r[f],o=l(t,a,s);return void n.assert(void 0===o)}return r.length?void 0:!0};return a.functionKind=r.length?"field-mapper":"field-filter",a},dt=function(e){if(n.assert(1===arguments.length),n.assert(n.routineIs(e)),n.assert(n.strIs(e.functionKind)),"field-filter"===e.functionKind){var r=function(r,t,a){var s=e(r,t,a);n.assert(n.boolIs(s)),s!==!1&&(r[a]=t[a])};return r.functionKind="field-mapper",r}if("field-mapper"===e.functionKind)return e;throw n.err("expects routine.functionKind")},pt={bypass:$n,own:Qn,ownRoutines:Xn,supplementaryOwnRoutines:Zn,supplementary:et,supplementaryCloning:rt,supplementaryOwn:nt,supplementaryCloningOwn:tt,cloning:at,cloningOwn:st,atomic:ut,atomicOwn:it,notAtomicCloning:ot,notAtomicCloningOwn:ft,notAtomicCloningRecursiveOwn:lt,recursiveClonning:ct,drop:gt,and:mt,makeMapper:dt},ht={enityExtend:i,entityClone:o,entityCopy:f,entityCopyField:l,entityAssignField:c,entityHasNan:g,entityHasUndef:m,entitySame:d,_entitySame:p,entityIdentical:h,entityEquivalent:y,entityContain:v,entityLength:b,entityWithKeyRecursive:I,entityValueWithIndex:w,entityKeyWithValue:x,entitySelect:O,entitySelectSet:A,_entitySelect:k,until:S,each:M,eachSample:E,eachRecursive:L,err:C,assert:_,assertMapNoUndefine:B,assertMapOnly:N,assertMapOwnOnly:F,assertMapNone:U,assertMapOwnNone:R,assertMapAll:T,assertMapOwnAll:P,warn:K,stack:q,diagnosticWatchObject:z,diagnosticWatchFields:D,nameUnfielded:W,nameFielded:G,namesCoded:H,arrayIs:$,arrayLike:Q,hasLength:X,objectIs:V,objectLike:J,mapIs:Y,strIs:Z,symbolIs:ee,bufferIs:se,bufferArrayIs:ue,bufferNodeIs:ie,argumentsIs:oe,rowIs:fe,numberIs:re,numberIsRegular:te,dateIs:ae,boolIs:ne,routineIs:le,routineWithNameIs:ce,regexpIs:ge,definedIs:me,eventIs:de,htmlIs:pe,jqueryIs:he,domIs:ye,domableIs:ve,errorIs:be,atomicIs:Ie,typeOf:we,typeIsBuffer:xe,toBool:Oe,numberRandomInt:Ae,numberRandomIntNot:je,numberFrom:ke,strTypeOf:Se,str:Me,strBegins:Ee,strEnds:Le,strBeginRemove:Ce,strEndRemove:_e,strPrependOnce:Be,strAppendOnce:Ne,regexpEscape:Ue,regexpForGlob:Re,regexpMakeObject:$e,regexpMakeArray:Ke,regexpMakeExpression:qe,_regexpAny:ze,_regexpAll:De,regexpTest:Ge,regexpBut_:He,regexpObjectShrink:Ve,regexpObjectBroaden:Je,_regexpObjectExtend:Ye,regexpObjectMake:$e,regexpObjectBut:Qe,regexpObjectOrering:Xe,regexpArrayIndex:Ze,_regexpObjectOrderingExclusion:er,_routineBind:rr,routineBind:nr,routineJoin:tr,routineSeal:ar,routineDelayed:sr,routinesCall:ur,bind:null,timeReady:ir,timeOnce:or,timeOut:fr,timePeriodic:lr,timePeriodicStart:lr,timePeriodicStop:cr,_timeNow_gen:gr,timeSpent:mr,dateToStr:dr,arraySub:pr,arrayNew:hr,arrayNewOfSameLength:yr,arrayOrNumber:vr,arraySelect:br,arrayIndicesOfGreatest:Ir,arrayIron:wr,arrayIronToMap:xr,arrayCopy:Or,arrayAppendMerging:Ar,arrayPrependMerging:jr,arrayAppendOnceMerging:kr,arrayPrependOnceMerging:Sr,arrayElementsSwap:Mr,arrayRemovedOnce:Cr,arrayRemoveOnce:_r,arrayRemovedAll:Br,arrayRemoveAll:Nr,toArray:Er,arrayToMap:Lr,arrayAddOnce:Fr,arraySpliceArray:Tr,arraySlice:Pr,arrayAs:Ur,arrayToStr:Rr,arrayPut:Kr,arrayMask:qr,arrayDuplicate:zr,arrayFill:Dr,arrayCompare:Gr,arraySame:Wr,arraySameSet:Hr,arrayLeftIndexOf:Vr,arrayRightIndexOf:Jr,arrayLeftGet:Yr,arrayHasAny:$r,arrayCount:Qr,arraySupplement:Xr,arrayExtendScreening:Zr,arrayRandom:en,arraySetIntersection:rn,arraySetContainAll:nn,arraySetContainSomething:tn,_arraySortedLookUpAct:an,arraySortedLookUp:sn,arraySortedClosest:un,arraySortedRemove:on,arraySortedAdd:ln,arraySortedAddOnce:fn,arraySortedAddArray:cn,bufferRelen:gn,bufferResize:mn,bufferBytesGet:dn,bufferRetype:pn,bufferMove:hn,bufferToStr:yn,bufferToDom:vn,bufferLeftBuffer:bn,bufferFromArrayOfArray:In,bufferFromObject:wn,bufferArrayFromBuffer:xn,buffersSerialize:On,buffersDeserialize:An,mapClone:jn,mapExtendFiltering:kn,mapExtend:Sn,mapSupplement:Mn,mapComplement:En,mapCopy:Ln,mapFirst:Cn,mapToArray:_n,mapValWithIndex:Bn,mapKeyWithIndex:Nn,mapToString:Fn,mapKeys:Tn,mapValues:Pn,mapPairs:Un,mapsPluck:Rn,mapGroup:Kn,mapOwn:Dn,mapSame:qn,mapContain:zn,mapBut:Gn,mapButFiltering:Wn,mapOwnBut:Hn,mapScreens:Vn,mapScreen:Jn,_mapScreen:Yn,filter:pt};Sn(r,ht),r.constructor=function wTools(){};var yt=n.assert,vt=n.arraySlice,bt=r.timeNow=r._timeNow_gen();"undefined"!=typeof module&&null!==module&&(module.exports=r),e.wTools=r,e.wTools=r}()}).call(this);
# <code>BufferView</code> буфери

Cтандартні нетипізовані буфери для доступу до даних.

[Тип `BufferView`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView) представлений одним класом `BufferView` ( `DataView` ). Буфери типу `BufferView` можуть лише надавати представлення даних буферів типу `BufferRaw`. `BufferView` є платформонезалежними - для них не важливий `endianness` платформи, тобто, послідовність представлення байт в системі.

Для створення екземпляру буфера `BufferView` в конструктор класа  передається `BufferRaw` буфер, зміщення на кількість байтів від початку і кількість байтів для читання. Якщо передати буфер не вказавши зміщення і довжину буде створено новий `BufferView` з всього `BufferRaw`. При створенні `BufferView`, фактично передається посилання на відповідну ділянку `BufferRaw` буфера, а не створюється її копія. Тому, при зміні початкового `BufferRaw` буферу в одному з представлень, змінюється представлення у всіх екземплярах класу `BufferView`, котрі використовують даний `BufferRaw` буфер.

### Приклади

```js
var raw = new BufferRaw( 20 );

var view1 = new BufferView( raw );
var view2 = new BufferView( raw, 10, 9 );

view1.setInt8( 17, -42 );
console.log( view1.getInt8( 17 ), view2.getInt8( 7 ) ); // log -42 -42
console.log( view1.getUint16( 16 ), view2.getUint16( 6 ) ); // log 214 214

view2.setUint16( 6, 100 );
console.log( view1.getInt8( 17 ), view2.getInt8( 7 ) ); // log -56 -56
console.log( view1.getUint16( 16 ), view2.getUint16( 6 ) ); // log 100 100
```

В приведеному прикладі з буферу `raw` створено два представлення через буфер `BufferView` - `view1` i `view2`. Представлення `view1` використовує весь буфер `raw`. В цей же час, представлення `view2` використовує дев'ять байтів буферу `raw` починаючи з десятого байту від початку. З допомогою методу `setInt8` представлення `view1` змінило байт 17 в `raw` буфері на число `-42`. Ця зміна відображена і в буфері `view2`. Використання методу `getUint16` показує, що одну і ту ж ділянку бінарних даних можна зчитати по різному, тому при зчитуванні двох байтів починаючи з 16-го представлення `view1` повертає число `214`. Аналогічна зміна була проведена в буфері `view2`. Значення буферу `view1` змінились відповідним чином.

### Підсумок

- Екземпляри типу `BufferView` можуть лише надавати представлення `BufferRaw` буферів.
- При створенні екземпляру `BufferView`, фактично передається посилання на ділянку `BufferRaw` буфера без його копіювання.
- Зміни в оригінальному `BufferRaw` буфері ведуть до змін у всіх представленнях.

[Повернутись до змісту](../README.md#Концепції)


# Евалуатор

Це рутина або пара рутин, які дозволяють довільним чином перетворити елементи масиву перед їх порівнянням. 
Якщо отримані значення співпадають евалуатор повертає <code>true</code>, інакше - <code>false</code>. 
Евалуатор, в якості колбека, передається в рутини роботи із <code>Long</code> типами.

Евалуатор приймає один аргумент, на відмінно від [еквалайзера](./Equalizer.md).
Якщо евалуатор складається з однієї функції, то вона застосовується як до елементу контейнера в першому аргументі, так і до елементів другого аргумента.
Якщо евалуатор складається з двох функцій, то перша застосовується до елементу контейнера переданого в першому аргументі, а друга застосовується до елементів контейнера в другому аргументів.
Другий аргумент може бути і скляром, наприклад у випадку із рутиною `_.arrayRemoveElement` це саме так.

### Приклад евалуатора з однією рутиною

```js
var dst = [ { val : 3 }, { val : 0 }, { val : 5 } ];
var result = _.arrayRemoveElement( dst, { val : 0 }, ( e ) => e.val );
console.log( result );
// log : [ { val : 3 }, { val : 5 } ]
```

Рутина `arrayRemoveElement` містить в аргументах:
- масив `dst = [ { val : 3 }, { val : 0 }, { val : 5 } ]`;
- елемент порівняння `{ val : 0 }`;
- евалуатор `( e ) => e.val`.

Для того щоб видалити із контейнера `dst` елемент `{ val : 0 }` не достатньо використати порівняння `===`.
Тому потрібен евалуатор, котрий перетворить елементи в еквівалетні їх форми. Рутина
Рутина `arrayRemoveElement` шукає елементів, котрі після перетворення евалуатором рівні `0`.
В резульаті другий елемент контейнера `dst` буде видалено.

Якщо ж замінити елемент порівняння з мапи на інший тип, наприклад, на число

```js
_.arrayRemoveElement( dst, 0, ( e ) => e.val );
console.log( result );
// log : [ { val : 3 }, { val : 0 }, { val : 5 } ]
```

То евалуатор не знайде жодного співпадіння, адже другий агрумен `0` після евалуатора матиме значення `undefined`. В контейнері `dst` нема елементів із таким значенням.

### Приклад евалуатора з двома рутинами

Можливо задати 2-ва евалуатора, коремо для першого та для другого аргумента.

```js
var dst = [ { val : 3 }, { val : 0 }, { val : 5 } ];
var evalutor1 = ( e ) => e.val;
var evalutor2 = ( e ) => e;
var result = _.arrayRemoveElement( dst, 0, evalutor1, evalutor2 );
console.log( result );
// log: [ { val : 3 }, { val : 5 } ]
```

Указана рутина включає `Long` контейнер `dst` з трьома мапами `[ { val : 3 }, { val : 0 }, { val : 5 } ]`.
Після виконання програми в контейнрі `dst` не лишиться елемента `{ val : 0 }` попри те що другий аргумент `0`.
Евалуатор `evalutor1` використовується лише до контейнера `dst`, а евалуатор `evaluator2` використовується лише другого аргумента, який є скаляром `0`.
Якщо б `evaluator2` не було б задано то евалуатор `evalutor1` застосовувася б до обо аргументів.

[Повернутись до змісту](../README.md#Концепції)

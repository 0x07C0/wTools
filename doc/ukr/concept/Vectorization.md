# Векторизація

Це процес перетворення скалярної рутини у векторизовану.

Векторизована рутина - це рутина, яка може виконувати операції над масивом вхідних даних,
переданих у вигляді [вектора](./Vector.md). Векторизована рутина не повинна втрачати здатність обробляти
скалярні дані. Автоматично виконати векторизацію можна з домопогою рутини [vectorize](../tutorial/Vectorize.md).

## Ручна векторизація

Операції над даними можуть бути найрізноманітнішими і не завжди можна скористатись автоматичним способом векторизації, 
оскільки він апріорі не може покривати всі можливі випадки.
В такому разі необхідно виконати векторизацію в ручну.

Для прикладу розглянемо рутину, у яку передається об'єкт user, а повертається його повне імя. 
```js
function getFullName( user )
{
  return `${user.firstName} ${user.lastName}`;
}
```
Задача полягає у тому, щоб зробити можливим опрацювання рутиною як одного об'єкту user, так і масиву users,
для якого буде повернено масив із їх повними іменами в такій же послідовності.
Для цього можемо додати перевірку вхідного параметру з метою встановлення чи це скаляр, чи вектор.
```js
function getFullName( user )
{
  if( Array.isArray( user ) )
  {
    const fullNames = [];
    user.forEach( u => fullNames.push( `${u.firstName} ${u.lastName}` ) )
    return fullNames;
  }
  else
  {
    return `${user.firstName} ${user.lastName}`; 
  }
}
```
Як видно з коду, тепер рутина `getFullName` може повертати рядок із повним іменем одного об'єкта user, 
а також масив рядків із повним іменем кожного об'єкта user вхідного вектору даних.

[Повернутись до змісту](../README.md#Концепції)
# Евалуатор

Це рутина або декілька рутини, котрі здійснюють співставлення значень елемента масиву та елемента порівняння після виконання над ними деякої операції. Евалуатор викликається зовнішньою рутиною, якщо значення після перетворень еквівалентні, то зовнішня рутина може виконати дію над елементом масиву.

Евалуатор модуля `Tools` може складатись з однієї або двох рутин. Якщо в евалуаторі використовується одна рутина, то в нього по черзі передається елемент масиву і елемент порівняння, після виконання операції над елементами отримані значення порівнюються. Якщо використовуються дві рутини, то перша з них виконує операцію над елеменом масиву, а друга - над елементом порівняння, отримані значення порівнюються між собою.

Тобто, евалуатор використовується, якщо потрібно перетворити елементи за заданим алгоритмом та порівняти еквівалентність значень.

### Приклад евалуатора з однією рутиною

```js
arrayRemoveElement( [ [ 1 ], [ 1, 2 ], [ 3, 1 ] ], [ 1 ], ( e ) => e[ 0 ] );

// returns [ [ 3, 1 ] ]
```

Рутина `arrayRemoveElement` включає:
- двомірний масив `[ [ 1 ], [ 1, 2 ], [ 3 ] ]`;
- елемент порівняння `[ 1 ]`;
- евалуатор `( e ) => e[ 0 ]`, котрий шукає елементи масивів з індексом `0`.

Якщо співставити значення, то видно, що рутина `arrayRemoveElement` видалить перший `[ 1 ]` та другий `[ [ 1, 2 ] ]` елемент двомірного масиву. В обох масивах перший елемент має значення `1`.

В цей же час, якщо замінити елемент порівняння на

```js
arrayRemoveElement( [ [ 1 ], [ 1, 2 ], [ 3, 1 ] ], 1, ( e ) => e[ 0 ] );  

// returns [ 1 ], [ 2 ], [ 3 ] ]
```

то евалуатор не знайде жодного співпадіння - елемент порівняння `1` не є масивом, а тому в ньому не ведеться пошук.

### Приклад евалуатора з двома рутинами

```js
arrayRemoveElement( [ [ 1, 3 ], [ 2, 2 ], [ 3, 1 ] ], 1, ( arrEl ) => arrEl[ 1 ], ( e ) => e + 2 );

// returns [ [ 2, 2 ], [ 3, 1 ] ]
```

Указана рутина включає двомірний масив `[ [ 1, 3 ], [ 2, 2 ], [ 3, 1 ] ]`, елемент порівняння `1` та дві частини евалуатора.

Для того, щоб порівняти елементи масиву з індексом `1` в аргумент евалуатора, що виконує операції над елементом масиву передається рутина

```js
( arrEl ) => arrEl[ 1 ]
```

В аргумент евалуатора, що виконує операції над елементом порівняння передається рутина

```js
( e ) => e + 2
```

вона використовує початкове значення елемента порівняння та збільшує його на число `2`, таким чином отримуємо `3`.

Перший елемент двомірного масиву має таке включення - `[ 1, 3 ]`.

[Повернутись до змісту](../README.md#Концепції)

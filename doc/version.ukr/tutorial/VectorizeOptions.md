# Налаштування рутин при векторизації

Як використовувати опції рутини <code>vectorize</code> при створенні векторизованої рутини.

[Огляд рутини `vectorize`](Vectorize.md) розкриває призначення і базові можливості, в цьому туторіалі буде показано розширені налаштування при створенні векторизованих рутин.

### Як передавати налаштування для векторизованої рутини

Векторизувати рутину з допомогою `vectorize` можна двома способами:

- Через передачу аргументів. В рутину передається один або два аргументи, перший з яких скалярна рутина, а другий - кількість аргументів векторизованої рутини - аргумент `select`

```js
var someRoutineVector = _.vectorize( someRoutine, 2 );
```

Приклад демонструє векторизації рутини `someRoutine`. Векторизована рутина `someRoutineVector` приймає лише два аргументи. Якщо не вказати аргумент `select`, то рутина `vectorize` встановить значення за замовчуванням - `1`.

При використанні цього способу можливо змінити лише кількість аргументів.

- через передачу мапи опцій. Для векторизації рутини створюється мапа опцій, котра обов'язково містить поле `routine` - рутина для векторизації, та додатковог може поміщати поля: `select`, `fieldFilter`, `bypassingFilteredOut`, `bypassingEmpty`, `vectorizingArray`, `vectorizingMapVals`, `vectorizingMapKeys`. Створена мапа опцій передається в рутину `vectorize`

```js
var option =
{
  routine : someRoutine,
}
var someRoutineVector = _.vectorize( option );
```

Приведений приклад показує як векторизувати рутину `someRoutine` з допомогою мапи опцій. Результуюча рутина `someRoutineVector` матиме налаштування за замовчуваннями.

Використовуйте мапу опцій, якщо вам потрібно змінити поведінку векторизованої рутини.

### Опція `select`

Опція `select` використовується для встановлення кількості аргументів, що мають передаватись векторизованій рутині. Приймає числові значення, що більші або рівні `1`, а також може мати рядкове значення, або бути масивом. Використання нечислових типів впливає на обробку векторизованою рутиною переданих даних. За замовчуванням опція має значення `1`. 

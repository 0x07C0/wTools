# Мапа опцій

Це спеціальний набір ( масив ) значень, що призначений для передачі даних в рутину та управління її поведінкою.

Іншими словами, мапа опцій представляє собою асоціативний масив з унікальними комбінаціями `ключ-значення` для виконання рутини.

Мапа опцій може бути постійною ( за замовчуванням ) і вказуватись безпосередньо в коді рутини або ж автоматично генеруватись з інших даних та передаватись в рутину.

Постійні мапи опцій дозволяють встановити поведінку рутини за замовчуванням, що в свою чергу дозволяє створювати нові рутини використовуючи код існуючої. При цьому поведінка нової рутини буде відмінною за рахунок використання зміненої мапи опцій.  

Мапи опцій, що генеруються іншими рутинами призначені для обробки комплесних та інших змінних даних, наприклад, вводу користувача.

### Приклад використання мапи опцій

```js
function someFunction()
{
  let mapOptions = someFunction.defaults;
  // some code
}

someFunction.defaults =
{
  option1 : 0,
  option2 : null,
  option3 : 1,
};
```

Вище вказано спрощений приклад використання мапи опцій. Рутина `someFunction` виконує дії, що описані її власним кодом. Крім того, в рутині відразу ініціалізується мапа опцій за замовчуванням `let mapOptions = someFunction.defaults;`, що встановлює поведінку обробки вхідних даних виконання рутини.

Мапа опцій з налаштуваннями за замовчуванням - це зручний спосіб зберігати налаштування рутини в одному місці.

```js
function someFunction( mapOptions )
{
  // some code
}
```

В приведеному вище прикладі рутина `someFunction` приймає аргументом мапу опцій. Цей спосіб використання має переваги в порівнянні з першим:

- можливість використання мапи опцій, що згенеровані іншими рутинами;
- можливість перевірки коректності значень мапи опцій при її створенні, до виконання рутини;
- можливість створення нових рутин перевикористанням коду початкової рутини. Для цього потрібно створити нову рутину з викликом першої та передати мапу опцій з налаштуваннями за замовчуванням:


```js
function someFunction( mapOptions )
{
  // some code
}

function someFunction2()
{
  let options = someFunction2.defaults;
  let result = someFunction( options );
  // some code

}

someFunction2.defaults =
{
  option1 : 0,
  option2 : 1,
  option3 : 1,
};
```

Приклад демонструє як рутина `someFunction2` використовує код рутини `someFunction` для цього їй передано мапу опцій `someFunction2.defaults`.

### Підсумок

- Мапа опцій дозволяє зберігати налаштування поведінки рутини  в одному місці.
- Мапа опцій дозволяє створювати нові рутини змінивши налаштування за замовчуванням початкової рутини.
- Мапа опцій може генеруватись іншими рутинами.
-

[Повернутись до змісту](../README.md#Концепції)
